I dispositivi IoT sul campo (sensori Tekelek) inviano i loro dati al Gateway, che distribuisce intelligentemente il carico tra 3 istanze Meteor in esecuzione. Ogni istanza salva i dati nel database centrale e recupera eventuali comandi da inviare ai dispositivi. Gli amministratori possono configurare nuovi comandi tramite il pannello admin.

graph TB
    subgraph "ğŸŒ Dispositivi IoT sul campo"
        DEV1[ğŸ“¡ TEK822 Device 1]
        DEV2[ğŸ“¡ TEK586 Device 2]
        DEV3[ğŸ“¡ TEK900 Device 3]
    end
    
    subgraph "â˜ï¸ Sistema Cloud oneGas"
        GW[ğŸšª Gateway<br/>Load Balancer<br/>Porta 8080]
        
        subgraph "ğŸ”„ Istanze Meteor Attive"
            M1[âš¡ Meteor 1<br/>Porta 8081]
            M2[âš¡ Meteor 2<br/>Porta 8082]
            M3[âš¡ Meteor 3<br/>Porta 8083]
        end
        
        DB[(ğŸ’¾ Database<br/>SQL Server)]
    end
    
    subgraph "ğŸ‘¥ Amministratori"
        ADMIN[ğŸ‘¤ Admin Panel]
    end
    
    DEV1 -->|"ğŸ“¤ Invia dati telemetria"| GW
    DEV2 -->|"ğŸ“¤ Invia dati telemetria"| GW
    DEV3 -->|"ğŸ“¤ Invia dati telemetria"| GW
    
    GW -->|"âš–ï¸ Distribuisce carico"| M1
    GW -->|"âš–ï¸ Distribuisce carico"| M2
    GW -->|"âš–ï¸ Distribuisce carico"| M3
    
    M1 -->|"ğŸ’¾ Salva dati"| DB
    M2 -->|"ğŸ’¾ Salva dati"| DB
    M3 -->|"ğŸ’¾ Salva dati"| DB
    
    M1 -->|"ğŸ“¥ Recupera comandi"| DB
    M2 -->|"ğŸ“¥ Recupera comandi"| DB
    M3 -->|"ğŸ“¥ Recupera comandi"| DB
    
    GW -->|"ğŸ“¨ Risponde con comandi"| DEV1
    GW -->|"ğŸ“¨ Risponde con comandi"| DEV2
    GW -->|"ğŸ“¨ Risponde con comandi"| DEV3
    
    ADMIN -->|"âš™ï¸ Configura comandi"| DB
    
    style DEV1 fill:#e1f5ff
    style DEV2 fill:#e1f5ff
    style DEV3 fill:#e1f5ff
    style GW fill:#fff3cd
    style M1 fill:#d4edda
    style M2 fill:#d4edda
    style M3 fill:#d4edda
    style DB fill:#f8d7da
    style ADMIN fill:#e7e7ff